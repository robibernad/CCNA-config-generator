hostname {{ hostname }}
!
{% if enableSecret %}
enable secret {{ enableSecret }}
{% endif %}
{% if servicePasswordEncryption %}
service password-encryption
{% endif %}
{% if domainName %}
ip domain-name {{ domainName }}
{% endif %}
!
no ip domain-lookup
!
{% if bannerMotd %}
banner motd ^
{{ bannerMotd }}
^
!
{% endif %}
{% if users %}
{% for user in users %}
username {{ user.username }}{% if user.privilege %} privilege {{ user.privilege }}{% endif %}{% if user.secret %} secret {{ user.secret }}{% elif user.password %} password {{ user.password }}{% endif %}

{% endfor %}
!
{% endif %}
{% if sshEnabled %}
ip ssh version {{ sshVersion }}
ip ssh time-out {{ execTimeoutSec or 60 }}
ip ssh authentication-retries 2
crypto key generate rsa modulus {{ rsaModulus }}
!
{% endif %}
line con 0
 logging synchronous
 exec-timeout 0 0
!
{% if sshEnabled %}
line vty {{ vtyStart }} {{ vtyEnd }}
 logging synchronous
 login local
 exec-timeout {{ execTimeoutMin }} {{ execTimeoutSec }}
{% if not allowTelnet %}
 transport input ssh
{% else %}
 transport input ssh telnet
{% endif %}
!
{% endif %}
